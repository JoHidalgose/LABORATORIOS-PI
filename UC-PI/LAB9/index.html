<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Práctica Interactiva</title>
  <style>
    body { font-family: Verdana, sans-serif; margin: 25px; background:#fafafa; }
    #lienzo { border: 2px solid #555; margin-bottom: 15px; background:#fff; }
    .zona {
      width: 180px; height: 180px;
      border: 2px dashed #999;
      display: inline-block;
      margin-right: 15px;
      text-align: center;
      vertical-align: top;
      padding-top: 60px;
      border-radius: 8px;
      background:#f0f0f0;
      transition: background .2s;
    }
    .zona.over { background:#d0f0d0; border-color:#4caf50; }
    img.preview { max-width: 100%; margin-top: 8px; display: block; }
    button { margin-top: 8px; padding: 6px 12px; }
  </style>
</head>
<body>

  <h2>Canvas</h2>
  <canvas id="lienzo" width="320" height="220"></canvas><br>
  <button onclick="dibujarCirculo()">Círculo rojo</button>

  <h2>Arrastrar y soltar</h2>
  <div id="caja-movil" draggable="true" ondragstart="arrastrar(event)"
       style="width:100px;height:100px;background:#2196f3;color:#fff;line-height:100px;text-align:center;cursor:grab;">
       Mueve esto
  </div>
  <div id="zona1" class="zona" ondrop="soltar(event)" ondragover="permitir(event)">Zona 1</div>
  <div id="zona2" class="zona" ondrop="soltar(event)" ondragover="permitir(event)">Zona 2</div>

  <h2>Subir archivo</h2>
  <input type="file" onchange="mostrarArchivo(event)">
  <img id="vista" class="preview" src="">

  <script>
    // Canvas
    function dibujarCirculo(){
      const cv = document.getElementById("lienzo");
      const ctx = cv.getContext("2d");
      ctx.clearRect(0,0,cv.width,cv.height);
      ctx.beginPath();
      ctx.arc(160,110,55,0,2*Math.PI);
      ctx.fillStyle = "tomato";
      ctx.fill();
    }

    // Drag & Drop
    function permitir(e){ e.preventDefault(); e.currentTarget.classList.add("over"); }
    function arrastrar(e){ e.dataTransfer.setData("id", e.target.id); }
    function soltar(e){
      e.preventDefault();
      const data = e.dataTransfer.getData("id");
      e.currentTarget.appendChild(document.getElementById(data));
      e.currentTarget.classList.remove("over");
    }

    // File preview
    function mostrarArchivo(e){
      const lector = new FileReader();
      lector.onload = ()=>{ document.getElementById("vista").src = lector.result; };
      lector.readAsDataURL(e.target.files[0]);
    }
  </script>

</body>
</html>
